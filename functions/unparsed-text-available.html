<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>fn:unparsed-text-available</title><link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" /><link rel="stylesheet" href="../../css/site.css" /></head><body><div class="container"><ol class="breadcrumb"><li><a href="../../">XPath Reference</a></li><li class="active">fn:unparsed-text-available</li></ol><h1 class="page-header">fn:unparsed-text-available</h1><p>Because errors in evaluating the fn:unparsed-text function are
            non-recoverable, these two functions are provided to allow an application to determine
            whether a call with particular arguments would succeed.</p><h2>Signatures</h2><p><pre><code class="signature"><span class="function">fn:unparsed-text-available</span><span class="parenthesis">(</span><span class="variable">$href</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="quantifier">?</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span></code></pre><pre><code class="signature"><span class="function">fn:unparsed-text-available</span><span class="parenthesis">(</span><span class="whitespace">&#xD;
    </span><span class="variable">$href</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="quantifier">?</span><span class="op">,</span><span class="whitespace"> &#xD;
    </span><span class="variable">$encoding</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="whitespace">&#xD;
</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:boolean</span></code></pre></p><h2>Properties</h2><p>This function is <a href="http://www.w3.org/TR/xpath-functions-30/#dt-deterministic">deterministic</a>, <a href="http://www.w3.org/TR/xpath-functions-30/#dt-context-dependent">context-dependent</a>,  and <a href="http://www.w3.org/TR/xpath-functions-30/#dt-focus-independent">focus-independent</a>.  It depends on 
		static base uri.
	</p><h2>Rules</h2><p>The fn:unparsed-text-available function determines whether a call
            on the fn:unparsed-text function with identical arguments would
            return a string.</p><p>If the first argument is an empty sequence, the function returns false. </p><p>In other cases, the function returns true if a call on
               fn:unparsed-text with the same arguments would succeed, and
            false if a call on fn:unparsed-text with the same arguments would
            fail with a non-recoverable dynamic error.</p><p>The functions fn:unparsed-text and
               fn:unparsed-text-available have the same requirement for
               <a href="http://www.w3.org/TR/xpath-functions-30/#deterministic">determinism</a> as the functions
               <code>fn:doc</code> and <code>fn:doc-available</code>. This means that unless the
            user has explicitly stated a requirement for a reduced level of determinism, either of
            these functions if called twice with the same arguments during the course of a
            transformation must return the same results each time; moreover, the
            results of a call on fn:unparsed-text-available
            must be consistent with the results of a subsequent call on
               unparsed-text with the same arguments.</p><h2>Notes</h2><p>This requires that the unparsed-text-available function should
            actually attempt to read the resource identified by the URI, and check that it is
            correctly encoded and contains no characters that are invalid in XML. Implementations
            may avoid the cost of repeating these checks for example by caching the validated
            contents of the resource, to anticipate a subsequent call on the
               unparsed-text
            or unparsed-text-lines
             function. Alternatively, implementations may be able to rewrite an expression
            such as <code>if (unparsed-text-available(A)) then unparsed-text(A) else ...</code> to
            generate a single call internally.</p><p>Since the function unparsed-text-lines succeeds or fails
         under exactly the same circumstances as unparsed-text, the unparsed-text-availabl
         function may equally be used to test whether a call on unparsed-text-lines would succeed.</p><section><h2>See Also</h2><ul><li><a href="http://www.w3.org/TR/xpath-functions-30/#func-unparsed-text-available">XPath and XQuery Functions and Operators 3.0</a></li><li><a href="http://www.saxonica.com/documentation/html/functions/fn/unparsed-text-available.html">Saxon Function Library</a></li></ul></section></div><footer><div class="container"><small class="copyright">Portions of this document were copied from <a href="http://www.w3.org/TR/2014/REC-xpath-functions-30-20140408/xpath-functions-30.xml">XPath and XQuery Functions and Operators 3.0</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>&nbsp;©&nbsp;2014&nbsp;<a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.</small></div></footer></body></html>