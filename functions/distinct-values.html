<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" itemscope="itemscope" itemtype="http://schema.org/WebPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /><title>fn:distinct-values</title><link rel="stylesheet" href="../bootstrap/dist/css/bootstrap.min.css" /><link rel="stylesheet" href="../css/site.css" /><link rel="shortcut icon" href="../favicon.ico" /></head><body><header role="navigation"><nav class="container"><ol class="breadcrumb" itemprop="breadcrumb"><li><a href="../">XPath Reference</a></li><li class="active">fn:distinct-values</li></ol></nav></header><article class="container" itemscope="itemscope" itemtype="http://schema.org/WebPageElement" itemprop="mainContentOfPage"><header><h1 class="page-header">fn:distinct-values</h1></header><p>Returns the values that appear in a sequence, with duplicates eliminated.</p><section><header><h2>Signatures</h2></header><p><pre><code class="signature"><span class="function">fn:distinct-values</span><span class="parenthesis">(</span><span class="variable">$arg</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:anyAtomicType*</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:anyAtomicType*</span></code></pre><pre><code class="signature"><span class="function">fn:distinct-values</span><span class="parenthesis">(</span><span class="whitespace">&#xD;
    </span><span class="variable">$arg</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:anyAtomicType*</span><span class="op">,</span><span class="whitespace"> &#xD;
    </span><span class="variable">$collation</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="whitespace">&#xD;
</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:anyAtomicType*</span></code></pre></p></section><section><header><h2>Properties</h2></header><p>The one-argument form of this function is <a href="http://www.w3.org/TR/xpath-functions-30/#dt-deterministic">deterministic</a>, <a href="http://www.w3.org/TR/xpath-functions-30/#dt-context-dependent">context-dependent</a>,  and <a href="http://www.w3.org/TR/xpath-functions-30/#dt-focus-independent">focus-independent</a>.  It depends on 
		collations, and implicit timezone.
	</p><p>The two-argument form of this function is <a href="http://www.w3.org/TR/xpath-functions-30/#dt-deterministic">deterministic</a>, <a href="http://www.w3.org/TR/xpath-functions-30/#dt-context-dependent">context-dependent</a>,  and <a href="http://www.w3.org/TR/xpath-functions-30/#dt-focus-independent">focus-independent</a>.  It depends on 
		collations, and static base uri, and implicit timezone.
	</p></section><section><header><h2>Rules</h2></header><p>The function returns the sequence that results from removing from <code>$arg</code> all
            but one of a set of values that are equal to one another. Values are compared using the
               <code>eq</code> operator, subject to the caveats defined below.</p><p>Values of type <code>xs:untypedAtomic</code> are compared as if they were of type
               <code>xs:string</code>.</p><p>Values that cannot be compared, because the <code>eq</code> operator is not defined for
            their types, are considered to be distinct.</p><p>The collation used by this function is determined according to the rules in <a href="http://www.w3.org/TR/xpath-functions-30/#choosing-a-collation">Choosing a collation</a>. This collation is used when string comparison is
            required.</p><p>For <code>xs:float</code> and <code>xs:double</code> values, positive zero is equal to
            negative zero and, although <code>NaN</code> does not equal itself, if <code>$arg</code>
            contains multiple <code>NaN</code> values a single <code>NaN</code> is returned.</p><p> If <code>xs:dateTime</code>, <code>xs:date</code> or <code>xs:time</code> values do not
            have a timezone, they are considered to have the implicit timezone provided by the
            dynamic context for the purpose of comparison. Note that <code>xs:dateTime</code>,
               <code>xs:date</code> or <code>xs:time</code> values can compare equal even if their
            timezones are different.</p><p>The order in which the sequence of values is returned is <a href="http://www.w3.org/TR/xpath-functions-30/#implementation-dependent">implementation dependent</a>.</p><p>Which value of a set of values that compare equal is returned is <a href="http://www.w3.org/TR/xpath-functions-30/#implementation-dependent">implementation dependent</a>. </p>
            <p>If the input sequence contains values of different numeric types that differ from
               each other by small amounts, then the eq operator is not transitive, because of
               rounding effects occurring during type promotion. In the situation where the input
               contains three values <code>A</code>, <code>B</code>, and <code>C</code> such that
                  <code>A eq B</code>, <code>B eq C</code>, but <code>A ne C</code>, then the number
               of items in the result of the function (as well as the choice of which items are
               returned) is <a href="http://www.w3.org/TR/xpath-functions-30/#implementation-dependent">implementation dependent</a>, subject only to the
               constraints that (a) no two items in the result sequence compare equal to each other,
               and (b) every input item that does not appear in the result sequence compares equal
               to some item that does appear in the result sequence.</p>

            <p>For example, this arises when computing:</p>

            <pre><code><span class="open"></span><span class="whitespace">   </span><span class="function">distinct-values</span><span class="parenthesis">(</span><span class="whitespace">
            </span><span class="parenthesis">(</span><span class="function">xs:float</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal">1.0</span><span class="op">'</span><span class="open"></span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace">
            </span><span class="function">xs:decimal</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal">1.0000000000100000000001</span><span class="op">'</span><span class="open"></span><span class="op">,</span><span class="whitespace">
            </span><span class="function">xs:double</span><span class="parenthesis">(</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">1.00000000001</span><span class="op">'</span><span class="parenthesis">)</span><span class="parenthesis">)</span></code></pre>

            <p>because the values of type <code>xs:float</code> and <code>xs:double</code> both
               compare equal to the value of type <code>xs:decimal</code> but not equal to each
               other. </p>
         </section><section><header><h2>Notes</h2></header><p>If <code>$arg</code> is the empty sequence, the function returns the empty sequence.</p></section><section><header><h2>Examples</h2></header><p>The expression <code>fn:distinct-values((1, 2.0, 3, 2))</code> returns some permutation of <code>(1, 3, 2.0)</code>.</p><p>The expression <code>fn:distinct-values((xs:untypedAtomic("cherry"),
                  xs:untypedAtomic("plum"), xs:untypedAtomic("plum")))</code> returns some permutation of <code>(xs:untypedAtomic("cherry"),
                  xs:untypedAtomic("plum"))</code>.</p></section><footer><h2>See Also</h2><ul><li><a href="http://www.w3.org/TR/xpath-functions-30/#func-distinct-values">XPath and XQuery Functions and Operators 3.0</a></li><li><a href="http://www.w3.org/TR/xpath-functions/#func-distinct-values">XQuery 1.0 and XPath 2.0 Functions and Operators</a></li><li><a href="http://www.saxonica.com/documentation/html/functions/fn/distinct-values.html">Saxon Function Library</a></li></ul></footer></article><footer><div class="container"><small class="copyright">Portions of this document were copied from <a href="http://www.w3.org/TR/2014/REC-xpath-functions-30-20140408/xpath-functions-30.xml">XPath and XQuery Functions and Operators 3.0</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>&nbsp;©&nbsp;2014&nbsp;<a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.</small></div></footer></body></html>