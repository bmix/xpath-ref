<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" itemscope="itemscope" itemtype="http://schema.org/WebPage">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="viewport" content="width=device-width,initial-scale=1.0" />
      <title>fn:collection</title>
      <link rel="stylesheet" href="../bootstrap/dist/css/bootstrap.min.css" />
      <link rel="stylesheet" href="../css/site.css" />
      <link rel="shortcut icon" href="../favicon.ico" />
   </head>
   <body>
      <header role="navigation">
         <nav class="container">
            <div class="col-md-9 breadcrumb-col">
               <ol class="breadcrumb" itemprop="breadcrumb">
                  <li><a href="../">XPath Reference</a></li>
                  <li class="active">fn:collection</li>
               </ol>
            </div>
            <div class="col-md-3 search-col">
               <form method="get" action="https://cse.google.com/cse"><input type="hidden" name="cx" value="012329136009221431645:sv1eakamyny" /><div class="input-group"><input type="search" name="q" class="form-control" placeholder="Search" /><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div>
               </form>
            </div>
         </nav>
      </header>
      <article class="container" itemscope="itemscope" itemtype="http://schema.org/WebPageElement" itemprop="mainContentOfPage">
         <header>
            <h1 class="page-header">fn:collection</h1>
         </header>
         <p>Returns a sequence of items identified by a
            collection URI; or a default collection if no URI is supplied.
         </p>
         <section>
            <header>
               <h2>Signatures</h2>
            </header><pre><code class="signature"><span class="function">fn:collection</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type">item</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="quantifier">*</span></code></pre><pre><code class="signature"><span class="function">fn:collection</span><span class="parenthesis">(</span><span class="variable">$arg</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type-name">xs:string</span><span class="quantifier">?</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">as</span><span class="whitespace"> </span><span class="type">item</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="quantifier">*</span></code></pre></section>
         <section>
            <header>
               <h2>Properties</h2>
            </header>
            <p>This function is <a href="https://www.w3.org/TR/xpath-functions-31/#dt-deterministic">deterministic</a>, <a href="https://www.w3.org/TR/xpath-functions-31/#dt-context-dependent">context-dependent</a>,  and <a href="https://www.w3.org/TR/xpath-functions-31/#dt-focus-independent">focus-independent</a>.  It depends on 
               		available collections, and static base URI.
               	
            </p>
         </section>
         <section>
            <header>
               <h2>Rules</h2>
            </header>
            <p>This function takes an <code>xs:string</code> as argument and returns a sequence of
               items obtained by interpreting <code>$arg</code> as an <code>xs:anyURI</code> and
               resolving it according to the mapping specified in available 
               collections described in <a href="https://www.w3.org/TR/xpath-31/#id-xp-evaluation-context-components">Dynamic Context Components</a>.
            </p>
            <p>If available collections provides a mapping from this string to a
               sequence of items, the function returns that sequence. If available 
               collections maps the string to an empty sequence, then the function returns an
               empty sequence.
            </p>
            <p>If <code>$arg</code> is not specified, the function returns the sequence of items in
               the default collection in the dynamic context. See <a href="https://www.w3.org/TR/xpath-31/#id-xp-evaluation-context-components">Dynamic Context Components</a>. 
            </p>
            <p>If the value of <code>$arg</code> is a relative <code>xs:anyURI</code>, it is resolved
               against the value of the base-URI property from the static context. 
            </p>
            <p>If <code>$arg</code> is the empty sequence, the function behaves as if it had been
               called without an argument. See above.
            </p>
            <p>By default, this function is <a href="https://www.w3.org/TR/xpath-functions-31/#deterministic">deterministic</a>. This
               means that repeated calls on the function with the same argument will return the same
               result. However, for performance reasons, implementations may provide a user option
               to
               evaluate the function without a guarantee of determinism. The manner in which any
               such
               option is provided is <a href="https://www.w3.org/TR/xpath-functions-31/#implementation-defined">implementation-defined</a>. If the user has not
               selected such an option, a call to this function must either return a deterministic
               result or must raise a dynamic error [<a href="https://www.w3.org/TR/xpath-functions-31/#ERRFODC0003">ERRFODC0003</a>].
            </p>
            <p>There is no requirement that any nodes in the result should be in document order, nor is
               there a requirement that the result should contain no duplicates.
            </p>
         </section>
         <section>
            <header>
               <h2>Error Conditions</h2>
            </header>
            <p>A dynamic error is raised [<a href="https://www.w3.org/TR/xpath-functions-31/#ERRFODC0002">ERRFODC0002</a>] if no URI is supplied and
               the value of the default collection is absent.
            </p>
            <p>A dynamic error is raised [<a href="https://www.w3.org/TR/xpath-functions-31/#ERRFODC0002">ERRFODC0002</a>] if a relative URI reference
               is supplied, and the base-URI property in the static context is absent.
            </p>
            <p>A dynamic error is raised [<a href="https://www.w3.org/TR/xpath-functions-31/#ERRFODC0002">ERRFODC0002</a>] if available node
               collections provides no mapping for the absolutized URI.
            </p>
            <p>A dynamic error <b>may</b> be raised [<a href="https://www.w3.org/TR/xpath-functions-31/#ERRFODC0004">ERRFODC0004</a>] if <code>$arg</code> is not
               a valid <code>xs:anyURI</code>.
            </p>
         </section>
         <section>
            <header>
               <h2>Notes</h2>
            </header>
            <p>In earlier releases, the primary use for the <code>fn:collection</code> function
               was to retrieve a collection of XML documents, perhaps held as lexical XML in operating
               system filestore, or perhaps held in an XML database. In this release the concept
               has
               been generalised to allow other resources to be retrieved: for example JSON documents
               might
               be returned as arrays or maps, non-XML text files might be returned as strings, and
               binary
               files might be returned as instances of <code>xs:base64Binary</code>.
            </p>
            <p>The abstract concept of a collection might be realized in different ways by different
               implementations, and the ways in which URIs map to collections can be equally variable.
               
               Specifying resources using URIs is
               useful because URIs are dynamic, can be parameterized, and do not rely on an external
               environment.
            </p>
         </section>
         <footer>
            <h2>See Also</h2>
            <ul>
               <li><a href="https://www.w3.org/TR/xpath-functions-31/#func-collection">XPath 3.1 Functions and Operators</a></li>
               <li><a href="http://www.w3.org/TR/xpath-functions-30/#func-collection">XPath 3.0 Functions and Operators</a></li>
               <li><a href="https://www.w3.org/TR/xquery-operators/#func-collection">XPath 2.0 Functions and Operators</a></li>
               <li><a href="http://www.saxonica.com/html/documentation/functions/fn/collection.html">Saxon Function Library</a></li>
            </ul>
         </footer>
      </article>
      <footer>
         <div class="container"><small class="copyright">Portions of this document were copied from <a href="https://www.w3.org/TR/2017/REC-xpath-functions-31-20170321/xpath-functions-31.xml">this file</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>&nbsp;©&nbsp;2017&nbsp;<a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>), All Rights Reserved.</small></div>
      </footer>
   </body>
</html>